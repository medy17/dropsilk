<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Instantly share files device-to-device with DropSilk. Fast, private, and secure peer-to-peer transfers with no file size limits and no cloud storage.">
    <meta property="og:title" content="DropSilk | Fast, Private File Sharing">
    <meta property="og:description" content="Instantly share files device-to-device with no limits, no cloud storage, and end-to-end encryption.">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dropsilk.xyz/">
    <meta property="og:image" content="https://dropsilk.xyz/SSIV2.png"> <!-- Create a nice image for this! -->
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="DropSilk">

    <!-- Twitter Card Tags (for Twitter/X) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DropSilk | Fast, Private File Sharing">
    <meta name="twitter:description" content="Instantly share files device-to-device with no limits, no cloud storage, and end-to-end encryption.">
    <meta name="twitter:image" content="https://dropsilk.xyz/SSIV2.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="DropSilk">

    <title>DropSilk | Fast, Private, Peer-to-Peer File Sharing</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ffffff">

    <!-- Corrected Favicon and Manifest Links -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- AURORA BACKGROUND -->
<div class="aurora-background">
    <div class="aurora-blob"></div>
    <div class="aurora-blob"></div>
    <div class="aurora-blob"></div>
    <div class="aurora-blob"></div>
</div>

<div class="header">
    <a href="#" class="logo" onclick="location.reload()">
        <img src="/logo.webp" alt="DropSilk Logo - unlimited private sharing - no sign up">
        <span class="brand-text">Drop<wbr>Silk</span>
    </a>
    <nav class="header-nav">
        <button id="aboutBtn" class="header-nav-link">About</button>
        <button id="contactBtn" class="header-nav-link">Contact</button>
        <!-- NEW: Theme Toggle Button -->
        <button id="theme-toggle" class="header-nav-link" aria-label="Toggle theme">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707z"/>
            </svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
            </svg>
        </button>
        <a href="https://github.com/medy17" target="_blank" rel="noopener noreferrer" class="header-nav-link" aria-label="GitHub Profile" alt="my GitHub profile where I share more free apps and file transfer code">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
        </a>
    </nav>
</div>
<div class="main-content">
    <div class="tagline-section">
        <h1>UNLIMITED.<br />SECURE.<br />SWIFT.</h1>
        <p>Instantly share files, device to device. No cloud. No server. Just like a dance: it takes two to tango.</p>
        <p><strong>To get started, create a flight and invite another user :)</strong></p>
    </div>
    <div class="flight-ticket-panel-wrapper">
        <div class="flight-ticket">
            <h2 id="userNameDisplay"></h2>
            <p>Your file transfer ticket</p>
            <div class="ticket-actions">
                <button id="createFlightBtn">Create a Flight</button>
                <div class="or-separator">OR</div>
                <div class="flight-code-input-wrapper">
                    <input id="flightCodeInput" type="text" placeholder="TRJXØD" value="" maxlength="6" pattern="[A-Za-z0-9]{6}" />
                    <button id="joinFlightBtn" aria-label="Join Flight">➤</button>
                </div>
                <p style="font-size: 0.8em; opacity: 0.9; margin-top: 0.5em;">ENTER FLIGHT CODE TO JOIN</p>
            </div>
        </div>
    </div>
</div>
<div id="dashboard">
    <div id="dashboard-header" class="panel">
        <div class="flight-info">
            <div class="flight-info__code">FLIGHT <button id="dashboard-flight-code" type="button" title="Copy code to clipboard"></button></div>
            <div class="flight-info__status" id="dashboard-flight-status">Ready to connect</div>
        </div>
        <div class="flight-actions">
            <button class="btn btn-primary" id="inviteBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/></svg>
                Invite
            </button>
            <button class="btn btn-secondary" id="leaveFlightBtnDashboard">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/><path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/></svg>
                Leave
            </button>
        </div>
    </div>
    <div class="dashboard-grid">
        <div class="panel drop-zone">
            <div class="drop-zone__icon"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16"><path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"/><path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 1.5v3A1.5 1.5 0 0 0 11 6h3v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v.5z"/></svg></div>
            <p>Drag & Drop files or folders</p>
            <span class="secondary-text">or select manually</span>
            <div class="drop-zone__buttons">
                <label for="fileInput_transfer" class="btn btn-primary">
                    <!-- On-brand SVG -->
                    <svg viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
                        <rect x="4" y="4" width="12" height="12" rx="2" fill="#e3f7fd" stroke="var(--c-primary)"/>
                        <path d="M10 8v4M8 10h4" stroke="var(--c-primary)" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    Select Files
                </label>
                <button class="btn btn-secondary">
                    <!-- On-brand SVG -->
                    <svg viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
                        <rect x="3" y="7" width="14" height="8" rx="2" fill="#fffaf7" stroke="var(--c-secondary)"/>
                        <path d="M3 7V6a2 2 0 0 1 2-2h3l2 2h5a2 2 0 0 1 2 2v1" stroke="var(--c-secondary)" stroke-width="1.5" fill="none"/>
                    </svg>
                    Select Folder
                </button>
            </div>
            <input type="file" id="fileInput_transfer" style="display: none;" multiple />
        </div>
        <!-- MODIFIED: This panel is now dynamic -->
        <div class="panel">
            <div class="panel-header"><h3 id="connection-panel-title">Users on Your Network</h3></div>
            <div id="connection-panel-list">
                <div class="empty-state">No other users found.</div>
            </div>
        </div>
        <div class="panel grid-col-span-2">
            <div class="panel-header"><h3>Sending Queue</h3></div>
            <div id="sending-queue"><div class="empty-state">Select files to send</div></div>
        </div>
        <div class="panel grid-col-span-2">
            <div class="panel-header">
                <h3>Receiver Queue</h3>
                <div id="receiver-actions" style="display: none;">
                    <button id="downloadAllBtn" class="btn btn-primary">Download All as Zip</button>
                </div>
            </div>
            <div id="receiver-queue"><div class="empty-state">Waiting for incoming files</div></div>
        </div>
    </div>
    <div class="dashboard-footer-grid">
        <div class="panel">
            <div class="panel-header"><h3>Overall Metrics</h3></div>
            <ul class="metrics-list">
                <li>
        <span class="icon">
            <!-- Up Arrow SVG -->
            <svg viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10 17V3M10 3L4 9M10 3l6 6"/>
            </svg>
        </span>
                    <div>Sent: <span id="metrics-sent">0.00 GB</span></div>
                </li>
                <li>
        <span class="icon">
            <!-- Down Arrow SVG -->
            <svg viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10 3v14M10 17l6-6M10 17l-6-6"/>
            </svg>
        </span>
                    <div>Received: <span id="metrics-received">0.00 GB</span></div>
                </li>
                <li>
        <span class="icon">
            <!-- Lightning SVG -->
            <svg viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="10 2 4 12 9 12 8 18 16 8 11 8 12 2"/>
            </svg>
        </span>
                    <div>Speed: <span id="metrics-speed">0 KB/s</span></div>
                </li>
            </ul>
        </div>
        <div class="panel promo-panel">
            <div class="panel-header"><h3>Love DropSilk?</h3></div>
            <p>If you enjoy DropSilk, help us spread the word :). Remember to connect both devices to Wi-Fi for the best speeds.</p>
            <button class="btn btn-secondary" id="shareAppBtn">Share App</button>
        </div>
    </div>
</div>

<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-copyright">
            © 2025 DropSilk. A peer-to-peer passion project. v1.2.6
        </div>
        <nav class="footer-nav">
            <button id="termsBtn" class="footer-nav-link">Terms</button>
            <button id="privacyBtn" class="footer-nav-link" aria-label="Privacy Policy for DropSilk free, unlimited file sharing peer to peer">Privacy</button>
            <button id="securityBtn" class="footer-nav-link" aria-label="Security for DropSilk free, unlimited file sharing peer to peer">Security</button>
            <button id="faqBtn" class="footer-nav-link" aria-label="Learn more about private file sharing">FAQ</button>
        </nav>
    </div>
</footer>

<!-- Toast container -->
<div id="toast-container"></div>

<!-- All Modals are placed here -->
<div class="modal-overlay" id="inviteModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Invite Others</h3>
            <button class="modal-close" id="closeInviteModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="flight-code-display">
            <div class="code" id="modalFlightCode">XXXXXX</div>
            <div class="label">Flight Code</div>
        </div>
        <div class="qr-section">
            <div class="qr-container"><canvas id="qrCanvas"></canvas></div>
            <p class="qr-description">Scan this QR code to visit DropSilk and join with the flight code above</p>
        </div>
        <div class="share-actions">
            <button class="share-btn" id="copyLinkBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>Copy Link</button>
            <button class="share-btn secondary" id="shareNativeBtn" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg>Share</button>
            <button class="share-btn secondary" id="copyCodeBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 0 0-2H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2.5a1 1 0 0 0 2 0V2a2 2 0 0 0-2-2H2z"/><path d="M4.5 4A1.5 1.5 0 0 0 3 5.5V13a1.5 1.5 0 0 0 1.5 1.5H12A1.5 1.5 0 0 0 13.5 13V7.5A1.5 1.5 0 0 0 12 6H7.5A1.5 1.5 0 0 0 6 7.5V13a.5.5 0 0 1-.5.5H4.5A.5.5 0 0 1 4 13V5.5a.5.5 0 0 1 .5-.5z"/></svg>Copy Code Only</button>
        </div>
    </div>
</div>

<!-- NEW: About Me Modal -->
<div class="modal-overlay" id="aboutModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>About Me</h3>
            <button class="modal-close" id="closeAboutModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p><strong>DropSilk</strong> is a project born from the desire to have a simple, private, and fast way to transfer files between devices.</p>

            <p>I'm a developer passionate about creating useful and beautiful applications. Hence, the implementation of WebRTC that you see before you.</p>

            <p>I'm a passionate techy with an unfortunate affinity for tackling the most niche problems using wildly overengineered code.</p>

            <p>This very website is proof of that. Click on my GitHub if my brand of masochism appeals to you.</p>

            <p>I'm currently in my second year of university in Malaysia, pursuing a Computer Science degree with a Data Science specialisation.</p>

            <p>I really wasn’t kidding about the masochism, in case that wasn’t obvious.</p>

            <p>Always open to new and interesting opportunities—so feel free to reach out.</p>

            <p>I’m only as busy as any other Comp Sci student (read: constantly).</p>
            <!-- TODO: Add more content here -->
        </div>
    </div>
</div>

<!-- NEW: Contact Modal -->
<div class="modal-overlay" id="contactModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Contact</h3>
            <button class="modal-close" id="closeContactModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p id="captcha-pretext">To prevent spam, please verify you're human to view my email address.</p>

            <!-- State 1: Initial View -->
            <div id="email-view-initial-state" class="share-actions">
                <button class="share-btn" id="viewEmailBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.558Z"/></svg>
                    View Email
                </button>
            </div>

            <!-- State 2: CAPTCHA Challenge -->
            <div id="email-view-captcha-state" style="display: none;">
                <!--
                   NOTE: Using Google's v2 test site key.
                   For a real production site, you would generate your own key at:
                   https://www.google.com/recaptcha/admin
                -->
                <div id="recaptcha-container">
                </div>
            </div>

            <!-- State 3: Revealed Email -->
            <div id="email-view-revealed-state" style="display: none;">
                <div class="flight-code-display" style="margin-top: 1rem; margin-bottom: 2rem;">
                    <a href="mailto:ahmed@dropsilk.xyz" class="code" style="letter-spacing: normal; text-transform: none; font-size: 1.2rem;">ahmed@dropsilk.xyz</a>
                </div>
                <div class="share-actions">
                    <button class="share-btn" id="copyEmailBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>
                        Copy Email
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- NEW: Terms Modal -->
<div class="modal-overlay" id="termsModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Terms of Service</h3>
            <button class="modal-close" id="closeTermsModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p><strong>Last Updated: 27th of June 2025</strong></p>
            <p>Welcome to DropSilk! By using this website and service, you agree to the following terms. Please read them carefully.</p>

            <p><strong>1. Use of Service:</strong> DropSilk is a free, experimental service for peer-to-peer file transfer between devices. You agree to use DropSilk only for lawful purposes. You must not use the service to send, receive, or share any files that are illegal, infringe on the rights of others, or violate any applicable laws or regulations. You are solely responsible for the content of the files you transfer. You must have the legal right to share any files you send using DropSilk.</p>

            <p><strong>2. No Warranty:</strong> DropSilk is provided “as is” and “as available,” without any warranties of any kind, either express or implied. We do not guarantee that the service will be secure, uninterrupted, error-free, or free from viruses or other harmful components. We may modify, suspend, or discontinue the service at any time without notice.</p>

            <p><strong>3. Limitation of Liability:</strong> To the fullest extent permitted by law, DropSilk and its creator(s) are not liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not to-do loss of data, loss of profits, or other losses resulting from your use of (or inability to use) the service. You use DropSilk at your own risk.</p>

            <p><strong>4. Privacy:</strong> DropSilk is designed to transfer files directly between users (peer-to-peer) using WebRTC technology. Files are <strong>not</strong> stored on our servers. We do not access, view, or retain the files you transfer. Some minimal information (such as your device’s IP prefix) may be used temporarily to facilitate connections, but is not stored or shared. For more details, please see our Privacy Policy.</p>

            <p><strong>5. User Conduct:</strong> You agree not to attempt to disrupt, hack, or interfere with the operation of DropSilk or its users. You must not use DropSilk to harass, abuse, or harm others.</p>

            <p><strong>6. Changes to These Terms:</strong> We may update these Terms of Service from time to time. If we make significant changes, we will post a notice on the website. Your continued use of DropSilk after changes are posted means you accept the new terms.</p>

            <p><strong>7. Contact:</strong> If you have any questions or concerns about these terms, please contact us at <a href="mailto:ahmed@dropsilk.xyz">ahmed@dropsilk.xyz</a>.</p>

            <p><em>This Terms of Service is provided for informational purposes and does not constitute legal advice. For a production or commercial service, please consult a qualified legal professional.</em></p>
        </div>
    </div>
</div>

<!-- NEW: Privacy Policy Modal -->
<div class="modal-overlay" id="privacyModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Privacy Policy</h3>
            <button class="modal-close" id="closePrivacyModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p><strong>Your privacy is paramount.</strong> DropSilk is designed to be as private as possible.</p>
            <p><strong>File Transfers:</strong> Your files are never uploaded to or stored on our servers. They are sent directly from your device to the recipient's device using an encrypted, peer-to-peer (P2P) connection via WebRTC.</p>
            <p><strong>Signaling Server:</strong> To establish a P2P connection, your device and the recipient's device need to exchange connection information (like IP addresses and network capabilities). This exchange is facilitated by our signaling server. The server only sees this temporary metadata and your randomly generated user name; it does not see the content of your files. This connection data is discarded after you leave the session.</p>
            <p><strong>Analytics:</strong> We do not use third-party analytics or tracking cookies. All metrics displayed, such as transfer speed and data volume, are calculated locally on your device and are not sent to our servers.</p>
            <p><em>This is a simplified privacy statement. A full-fledged service would require a more detailed policy.</em></p>
        </div>
    </div>
</div>

<!-- NEW: Security Modal -->
<div class="modal-overlay" id="securityModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Security</h3>
            <button class="modal-close" id="closeSecurityModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p>Security is a core feature of DropSilk's design.</p>
            <p><strong>End-to-End Encryption:</strong> All data transferred via WebRTC, including your files, is encrypted end-to-end using DTLS (Datagram Transport Layer Security). This means only you and the recipient can decrypt the data. Our signaling server, or any other intermediary, cannot access the contents of your files.</p>
            <p><strong>No Cloud Storage:</strong> Since your files are never stored on a central server, there is no risk of a cloud data breach exposing your files. The transfer happens directly between the peers in a "flight".</p>
            <p><strong>Flight Codes:</strong> Each transfer session ("flight") is protected by a unique, randomly generated 6-character code. Only users with this code can join the session and receive files.</p>
            <p><strong>Best Practices:</strong> While we implement these security measures, always be sure you are sharing files with a person you know and trust. Verify the flight code with them through a separate, secure channel.</p>
        </div>
    </div>
</div>

<!-- NEW: FAQ Modal -->
<div class="modal-overlay" id="faqModal">
    <div class="invite-modal">
        <div class="modal-header">
            <h3>Frequently Asked Questions</h3>
            <button class="modal-close" id="closeFaqModal" aria-label="Close modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
            </button>
        </div>
        <div class="modal-body">
            <p><strong>Is there a file size limit?</strong></p>
            <p>Theoretically, no. DropSilk is designed to handle large files. However, performance may depend on your browser, device memory, and network conditions. Some browsers have internal limits on how much data can be buffered.</p>

            <p><strong>Why is the transfer slow?</strong></p>
            <p>Transfer speed depends entirely on the network connection between you and the recipient. For best results, ensure both devices are connected to the same high-speed Wi-Fi network. Transfers over the internet or through cellular data will be slower.</p>

            <p><strong>Are my files stored anywhere?</strong></p>
            <p>No. Your files are sent directly from your browser to the recipient's browser. They are never stored on any server.</p>

            <p><strong>What is a "Flight"?</strong></p>
            <p>A "flight" is our term for a temporary, private file transfer session between two or more devices. You can create a flight to send files, or join an existing flight with a code to receive them.</p>
        </div>
    </div>
</div>
<div class="modal-overlay" id="videoModal" style="display: none;">
    <div id="video-player-container">
        <button id="close-video-btn" aria-label="Close Video Player">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>
        </button>
        <video id="video-element" preload="metadata"></video>
        <div class="video-controls-container">
            <div class="timeline-container">
                <div class="timeline">
                    <div class="hover-indicator"></div>
                    <div class="buffered-bar"></div>
                    <div class="progress-bar"></div>
                </div>
            </div>
            <div class="controls">
                <div class="controls-left">
                    <button class="play-pause-btn" aria-label="Play/Pause">
                        <svg class="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
                    </button>
                    <div class="volume-container">
                        <button class="volume-btn" aria-label="Mute/Unmute">
                            <svg class="high-volume-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>
                            <svg class="low-volume-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M5,9V15H9L14,20V4L9,9M18.5,12C18.5,10.23 17.5,8.71 16,7.97V16C17.5,15.29 18.5,13.76 18.5,12Z" /></svg>
                            <svg class="muted-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,12.22 16.47,12.43 16.43,12.64L14,10.21V7.97C15.5,8.71 16.5,10.23 16.5,12Z" /></svg>
                        </button>
                        <input class="volume-slider" type="range" min="0" max="1" step="any" value="1">
                    </div>
                    <div class="time-container">
                        <span class="current-time">0:00</span> / <span class="total-time">0:00</span>
                    </div>
                </div>
                <div class="controls-right">
                    <button class="download-btn" aria-label="Download Video">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"/></svg>
                    </button>
                    <div class="settings-menu-container">
                        <button class="audio-track-btn" aria-label="Select Audio Track" style="display:none;">
                            <svg viewBox="0 0 24 24"><path d="M12 3V13.55A4 4 0 1 0 14 17V7H18V3M10 19A2 2 0 1 1 8 17A2 2 0 0 1 10 19Z" /></svg>
                        </button>
                        <div class="settings-menu audio-tracks-menu"></div>
                    </div>
                    <div class="settings-menu-container">
                        <button class="captions-btn" aria-label="Select Subtitles" style="display:none;">
                            <svg viewBox="0 0 24 24"><path d="M18,11H16.5V10.5H14.5V13.5H16.5V13H18V14A1,1 0 0,1 17,15H14A1,1 0 0,1 13,14V10A1,1 0 0,1 14,9H17A1,1 0 0,1 18,10M21,4H3A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6A2,2 0 0,0 21,4M11,11H9.5V10.5H7.5V13.5H9.5V13H11V14A1,1 0 0,1 10,15H7A1,1 0 0,1 6,14V10A1,1 0 0,1 7,9H10A1,1 0 0,1 11,10V11Z" /></svg>
                        </button>
                        <div class="settings-menu captions-menu"></div>
                    </div>
                    <button class="fullscreen-btn" aria-label="Toggle Fullscreen">
                        <svg class="enter-fullscreen-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>
                        <svg class="exit-fullscreen-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://unpkg.com/qrcode@1.4.4/build/qrcode.min.js"></script>
<script src="https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoad&render=explicit" async defer></script>
<script src="video.js" defer></script>
<script src="script.js" defer></script>
</body>
</html>